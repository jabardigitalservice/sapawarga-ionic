<ion-header>
  <ion-toolbar color="light">
    <!-- <ion-icon
      name="arrow-back"
      slot="start"
      size="large"
      (click)="dismiss()"
    ></ion-icon> -->
    <ion-title>Ubah Katasandi</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="changePasswordForm">
    <ion-label position="stacked">Masukan kata sandi baru</ion-label>
    <ion-item no-padding>
      <ion-input
        type="{{ type }}"
        class="text-dark"
        color="dark"
        formControlName="password"
        [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
        placeholder="Kata Sandi"
      ></ion-input>
      <ion-icon
        *ngIf="!passwordShown"
        color="medium"
        (click)="showPassword()"
        name="eye"
        slot="end"
      ></ion-icon>
      <ion-icon
        *ngIf="passwordShown"
        color="dark"
        (click)="showPassword()"
        name="eye"
        slot="end"
      ></ion-icon>
    </ion-item>
    <div *ngIf="submitted && !!f.password.errors" class="invalid-feedback">
      <p ion-text class="text08" *ngIf="!!f.password.errors.required">
        <ion-text color="danger">
          Kata Sandi harus diisi
        </ion-text>
      </p>
      <p ion-text class="text08" *ngIf="!!f.password.errors.minlength">
        <ion-text color="danger">
          Kata Sandi minimal 6 karakter
        </ion-text>
      </p>
    </div>

    <ion-label position="stacked">Ulangi kata sandi baru</ion-label>
    <ion-item no-padding>
      <ion-input
        type="{{ type }}"
        class="text-dark"
        color="dark"
        formControlName="repeatPassword"
        [ngClass]="{ 'is-invalid': submitted && f.repeatPassword.errors }"
        placeholder="Kata Sandi"
      ></ion-input>
      <ion-icon
        *ngIf="!passwordShown"
        color="medium"
        (click)="showPassword()"
        name="eye"
        slot="end"
      ></ion-icon>
      <ion-icon
        *ngIf="passwordShown"
        color="dark"
        (click)="showPassword()"
        name="eye"
        slot="end"
      ></ion-icon>
    </ion-item>
    <div
      *ngIf="submitted && !!f.repeatPassword.errors"
      class="invalid-feedback"
    >
      <p ion-text class="text08" *ngIf="!!f.repeatPassword.errors.required">
        <ion-text color="danger">
          Kata Sandi harus diisi
        </ion-text>
      </p>
      <p ion-text class="text08" *ngIf="!!f.repeatPassword.errors.minlength">
        <ion-text color="danger">
          Kata Sandi minimal 6 karakter
        </ion-text>
      </p>
    </div>
  </form>

  <ion-button
    expand="block"
    color="blues"
    tappable
    (click)="changePassword()"
    style="margin-top: 30px"
    >Masuk</ion-button
  >
</ion-content>
