<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Tambah Aspirasi</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid fixed no-padding>
    <form
      [formGroup]="formAddAspirasi"
      (ngSubmit)="onFormSubmit(formAddAspirasi.getRawValue())"
    >
      <ion-row class="ion-padding-start ion-margin-top">
        <ion-col size="4">
          <div class="profile-content">
            <ion-label>Kategori<span class="ion-text-right">:</span></ion-label>
          </div>
        </ion-col>
        <ion-col *ngIf="CategoriesAspirasi">
          <div class="profile-data">
            <ion-select
              formControlName="kategori"
              okText="Pilih"
              cancelText="Batal"
              placeholder="Pilih Kategori"
            >
              <ion-select-option
                *ngFor="let category of CategoriesAspirasi"
                value="{{ category.id }}"
              >
                {{ category.name }}
              </ion-select-option>
            </ion-select>
          </div>
        </ion-col>
      </ion-row>

      <ion-row class="ion-padding-start ion-margin-top">
        <ion-col size="4">
          <div class="profile-content">
            <ion-label>Judul <span class="ion-text-right">:</span></ion-label>
          </div>
        </ion-col>
        <ion-col>
          <div class="profile-data">
            <ion-textarea
              rows="6"
              formControlName="title"
              [ngClass]="{ 'is-invalid': submitted && f.title.errors }"
              placeholder="Masukkan nama anda"
            ></ion-textarea>
          </div>
        </ion-col>
      </ion-row>

      <ion-row class="ion-padding-start ion-margin-top">
        <ion-col size="4">
          <div class="profile-content">
            <ion-label
              >Upload Gambar <span class="ion-text-right">:</span></ion-label
            >
          </div>
        </ion-col>
        <ion-col>
          <div class="profile-data">
            <!-- <input
              type="file"
              accept="image/*"
              ng2FileSelect
              [uploader]="fileUploader"
              multiple
            /> -->
          </div>
        </ion-col>
      </ion-row>

      <ion-row class="ion-padding-start ion-margin-top">
        <ion-col size="5">
          <div class="profile-content">
            <ion-label
              >Detail Aspirasi <span class="ion-text-right">:</span></ion-label
            >
          </div>
        </ion-col>
        <ion-col>
          <div class="profile-data">
            <ion-textarea
              rows="6"
              formControlName="description"
              [ngClass]="{ 'is-invalid': submitted && f.description.errors }"
              placeholder="Masukkan nama anda"
            ></ion-textarea>
          </div>
        </ion-col>
      </ion-row>

      <ion-list>
        <ion-item>
          <ion-checkbox
            formControlName="description"
            class="agreement"
          ></ion-checkbox>
          <ion-label>tesre sfddsewr s</ion-label>
        </ion-item>
      </ion-list>

      <ion-button
        padding
        class="ion-margin-bottom"
        size="medium"
        expand="full"
        color="dark"
        type="submit"
        >Simpan perubahan
      </ion-button>

      <ion-button (click)="uploadAspirasi()">Upload files</ion-button>
    </form>
  </ion-grid>

  <h2>Your files: {{ images.length }}</h2>
  <ul>
    <li *ngFor="let item of images">
      {{ item?.path }}
    </li>
  </ul>
</ion-content>
